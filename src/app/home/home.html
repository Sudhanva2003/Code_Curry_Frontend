<div class="home-container">
  <div *ngIf="loading">Loading...</div>
  <div *ngIf="error">{{ error }}</div>

  <!-- Restaurant list -->
  <div *ngIf="!loading && !error && !selectedRestaurant" class="restaurant-list">
    <div class="restaurant-card" *ngFor="let r of restaurants" (click)="selectRestaurant(r)">
      <h3>{{ r.name }}</h3>
      <p><strong>Rating:</strong> {{ r.rating }} Star</p>
      <p><strong>Distance:</strong> 2Km Away</p>
    </div>
  </div>

  <!-- Menu view -->
  <div *ngIf="!loading && selectedRestaurant">
    <button (click)="backToRestaurants()">⬅ Back</button>
    <h2 class="restaurant-title">{{ selectedRestaurant.name }}</h2>

    <div class="menu-list">
      <div class="menu-card" *ngFor="let m of menu">
        <h3>{{ m.name }}</h3>
        <p><em>{{ m.category }}</em></p>
        <p><strong>₹{{ m.price }}</strong></p>

        <!-- Counter -->
        <div class="counter">
          <button (click)="decrementItem(m)" [disabled]="m.quantity === 0">-</button>
          <span>{{ m.quantity || 0 }}</span>
          <button (click)="incrementItem(m)">+</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating cart bar -->
  <div class="view-cart-bar" *ngIf="cartItems.length > 0">
    <div>{{ totalQuantity }} item(s) added to cart</div>
    <button (click)="goToCart()">View Cart</button>
  </div>
</div>
